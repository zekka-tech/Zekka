# ===================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# Zekka Framework v3.0.0
# ===================================================================
#
# SECURITY WARNING: 
# - Never commit this file with real secrets
# - Use environment-specific .env files (.env.production, .env.staging)
# - Store secrets in secure vault (AWS Secrets Manager, HashiCorp Vault, etc.)
# - Rotate secrets regularly
#
# ===================================================================

# Application
NODE_ENV=production
PORT=3000
APP_NAME=zekka-framework
APP_VERSION=3.0.0

# Security - JWT & Sessions
# CRITICAL: Change these in production!
JWT_SECRET=your-super-secure-jwt-secret-min-32-chars-change-this-in-production
SESSION_SECRET=your-super-secure-session-secret-min-32-chars-change-this-in-production
JWT_EXPIRATION=1h
REFRESH_TOKEN_EXPIRATION=7d
SESSION_TIMEOUT=3600000

# Security - Encryption
# CRITICAL: Generate with: openssl rand -base64 32
ENCRYPTION_KEY=your-aes-256-encryption-key-32-bytes-base64-encoded
ENCRYPTION_ALGORITHM=aes-256-gcm

# Database - PostgreSQL
DB_HOST=localhost
DB_PORT=5432
DB_NAME=zekka_production
DB_USER=zekka_user
DB_PASSWORD=your-secure-database-password-change-this
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_IDLE_TIMEOUT=10000
DB_CONNECTION_TIMEOUT=5000
DB_SSL_ENABLED=true
DB_SSL_REJECT_UNAUTHORIZED=true

# Database - Connection String (alternative)
# DATABASE_URL=postgresql://username:password@host:port/database?ssl=true

# Cache - Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-secure-redis-password-change-this
REDIS_DB=0
REDIS_TLS_ENABLED=true
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000
REDIS_CONNECT_TIMEOUT=10000

# Cache - Redis Cluster (if using cluster)
# REDIS_CLUSTER_NODES=redis-1:6379,redis-2:6379,redis-3:6379

# Monitoring - Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
METRICS_ENDPOINT=/metrics

# Monitoring - Grafana
GRAFANA_ENABLED=true
GRAFANA_PORT=3001
GRAFANA_ADMIN_PASSWORD=your-secure-grafana-password-change-this

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DIR=./logs
LOG_MAX_SIZE=10m
LOG_MAX_FILES=30
LOG_COMPRESS=true

# Audit Logging
AUDIT_ENABLED=true
AUDIT_RETENTION_DAYS=90
AUDIT_LOG_SENSITIVE_DATA=false

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX=100
RATE_LIMIT_SKIP_SUCCESS_RESPONSES=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# CORS
CORS_ENABLED=true
CORS_ORIGIN=https://yourdomain.com
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# SSL/TLS
SSL_ENABLED=true
SSL_CERT_PATH=/path/to/ssl/cert.pem
SSL_KEY_PATH=/path/to/ssl/key.pem
SSL_CA_PATH=/path/to/ssl/ca.pem

# Security Headers
HELMET_ENABLED=true
CSP_ENABLED=true
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000

# File Upload
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf
UPLOAD_DIR=./uploads

# Email (if applicable)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=your-smtp-username
SMTP_PASSWORD=your-smtp-password
EMAIL_FROM=noreply@yourdomain.com

# External APIs (if applicable)
# API_KEY_SERVICE_1=your-api-key-1
# API_KEY_SERVICE_2=your-api-key-2

# Feature Flags
FEATURE_MFA_ENABLED=true
FEATURE_PASSWORD_HISTORY_ENABLED=true
FEATURE_PASSWORD_EXPIRATION_ENABLED=true
FEATURE_ENCRYPTION_KEY_ROTATION_ENABLED=true
FEATURE_SECURITY_MONITORING_ENABLED=true

# Performance
MAX_CONCURRENT_REQUESTS=1000
REQUEST_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=5000

# Backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_DIR=./backups

# Health Check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System is under maintenance. Please try again later."

# ===================================================================
# VALIDATION REQUIREMENTS
# ===================================================================
#
# Before deploying to production, ensure:
#
# 1. All secrets are changed from defaults
# 2. SSL/TLS is properly configured
# 3. Database credentials are secure
# 4. Redis password is set
# 5. Monitoring is enabled
# 6. Logging is configured
# 7. Rate limiting is appropriate
# 8. CORS is properly configured
# 9. Backup is enabled
# 10. Health checks are working
#
# Run validation: npm run validate:env
#
# ===================================================================
