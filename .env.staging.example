# ==================================
# Zekka Framework - Staging Environment
# ==================================
# This is a template for staging environment variables
# Copy to .env.staging and update with actual values
# ==================================

# Environment
NODE_ENV=staging
PORT=3000

# ==================================
# APPLICATION
# ==================================
APP_NAME=Zekka Framework Staging
APP_URL=https://staging.yourdomain.com
API_VERSION=v1

# ==================================
# SECURITY SECRETS (Generate with: npm run secrets:generate)
# ==================================
# CRITICAL: Use different secrets than production!
JWT_SECRET=STAGING_JWT_SECRET_CHANGE_THIS_64_CHARS_MIN
JWT_REFRESH_SECRET=STAGING_REFRESH_SECRET_CHANGE_THIS_64_CHARS_MIN
SESSION_SECRET=STAGING_SESSION_SECRET_CHANGE_THIS_64_CHARS_MIN
ENCRYPTION_KEY=STAGING_ENCRYPTION_KEY_BASE64_32_BYTES
API_KEY_SALT=STAGING_API_SALT_CHANGE_THIS
MFA_ENCRYPTION_KEY=STAGING_MFA_KEY_BASE64_32_BYTES
BACKUP_CODE_SALT=STAGING_BACKUP_SALT_CHANGE_THIS
DATABASE_ENCRYPTION_KEY=STAGING_DB_ENCRYPTION_BASE64
COOKIE_SECRET=STAGING_COOKIE_SECRET_CHANGE_THIS
CSRF_SECRET=STAGING_CSRF_SECRET_CHANGE_THIS
WEBHOOK_SECRET=STAGING_WEBHOOK_SECRET_CHANGE_THIS
INSTANCE_ID=staging-instance-uuid

# ==================================
# DATABASE (PostgreSQL)
# ==================================
DATABASE_URL=postgresql://zekka_staging:STAGING_PASSWORD@localhost:5432/zekka_staging
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=zekka_staging
DATABASE_USER=zekka_staging
DATABASE_PASSWORD=STAGING_DATABASE_PASSWORD
DATABASE_SSL=false
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ==================================
# REDIS
# ==================================
REDIS_URL=redis://localhost:6379/1
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=STAGING_REDIS_PASSWORD
REDIS_DB=1
REDIS_TLS=false

# ==================================
# JWT CONFIGURATION
# ==================================
JWT_EXPIRY=1h
JWT_REFRESH_EXPIRY=7d
JWT_ISSUER=zekka-staging
JWT_AUDIENCE=zekka-api-staging

# ==================================
# SESSION CONFIGURATION
# ==================================
SESSION_NAME=zekka_staging.sid
SESSION_MAX_AGE=86400000
SESSION_SECURE=true
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=strict

# ==================================
# RATE LIMITING
# ==================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200
RATE_LIMIT_AUTH_WINDOW_MS=900000
RATE_LIMIT_AUTH_MAX_REQUESTS=10

# ==================================
# SECURITY SETTINGS
# ==================================
BCRYPT_ROUNDS=10
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000

# ==================================
# CORS CONFIGURATION
# ==================================
CORS_ORIGIN=https://staging.yourdomain.com
CORS_CREDENTIALS=true

# ==================================
# LOGGING
# ==================================
LOG_LEVEL=debug
LOG_DIR=./logs
LOG_MAX_SIZE=100m
LOG_MAX_FILES=30d
AUDIT_LOG_RETENTION_DAYS=30

# ==================================
# MONITORING
# ==================================
PROMETHEUS_PORT=9090
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# ==================================
# TESTING FLAGS
# ==================================
ENABLE_DEBUG_ROUTES=true
ENABLE_TEST_DATA=true
SKIP_EMAIL_VERIFICATION=true
MOCK_EXTERNAL_APIS=false

# ==================================
# EMAIL (Optional - can use test service)
# ==================================
SMTP_HOST=smtp.mailtrap.io
SMTP_PORT=2525
SMTP_SECURE=false
SMTP_USER=MAILTRAP_USER
SMTP_PASSWORD=MAILTRAP_PASSWORD
EMAIL_FROM=staging@yourdomain.com

# ==================================
# EXTERNAL APIs (Optional)
# ==================================
# OPENAI_API_KEY=sk-test-...
# ANTHROPIC_API_KEY=sk-ant-test-...

# ==================================
# DEPLOYMENT INFO
# ==================================
DEPLOY_ENV=staging
GIT_BRANCH=develop
DEPLOY_TIMESTAMP=
DEPLOY_VERSION=
